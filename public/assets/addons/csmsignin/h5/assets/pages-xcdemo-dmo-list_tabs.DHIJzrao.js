import{f as t,x as i,y as s,s as o,p as e,q as a,c as n,w as l,i as r,o as c,h as m,b as u,r as p,F as g}from"./index-BydQFjNZ.js";import{_ as d}from"./uv-tabs.DNTCM5Bz.js";import{x as _,a as b,r as f}from"./uv-icon.CzDp-sxI.js";import{_ as h}from"./uv-sticky.DtgoI1n-.js";import{_ as x,a as v,b as j}from"./xc-uv-load-more.DfFKzBdh.js";import{x as w}from"./XsArrayUtils.Be-EjtvS.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-badge.CeAXftnB.js";import"./uv-loading-icon.C2B6l3Ux.js";import"./uv-line.BbHRFVhz.js";const k=y({data:()=>({config:t,xsStringUtils:_,xsDateUtils:b,pageinfo:i.pageinfo(),sp:{},sr:{tablist:[],list:[]},control:{tab_object_id:null}}),onLoad(t){this.xinit()},onShow(){let t=this;s.onShow((function(){t.public_show()}))},onPullDownRefresh(){let t=this;setTimeout((function(){t.public_reset(),o()}),1e3)},onReachBottom(){this._pagelist()},methods:{xinit(){let t=this,s=i.buildparams({},{},"weigh","desc");i.queryList("dmocategory",s,(function(i){t.sr.tablist=w.push(i.list,{name:"全部"})}))},public_show(){this.pageinfo.reset(),this._pagelist()},public_reset(){this.public_show()},control_changeTabitem:function(t){this.control.tab_object_id=t.id,this.public_show()},_pagelist(){let t=this,s=i.buildparams({csmsignin_dmocategory_id:t.control.tab_object_id},{csmsignin_dmocategory_id:"="},"weigh","desc");i.queryPageList("dmo",s,t.pageinfo,(function(s){i.processListImages(s.list,["bannerimage"]),t.sr.list=t.pageinfo.appendList(s.list,["bannerimage"])}))},control_clickItem(t){e.router_gotoPage("/pages/xcdemo/dmo/item",{id:t.id})}}},[["render",function(t,i,s,o,e,_){const b=f(a("uv-tabs"),d),w=f(a("uv-sticky"),h),y=f(a("xc-uv-list-item"),x),k=f(a("uv-list"),v),C=f(a("xc-uv-load-more"),j),L=r;return c(),n(L,{class:"xc-wrap"},{default:l((()=>[m(w,{bgColor:"#fff"},{default:l((()=>[m(b,{list:e.sr.tablist,onChange:_.control_changeTabitem},null,8,["list","onChange"])])),_:1}),m(k,null,{default:l((()=>[(c(!0),u(g,null,p(e.sr.list,((t,i)=>(c(),n(y,{title:t.name,note:e.xsDateUtils.timestampToString(t.updatetime),thumb:t.bannerimage,"thumb-size":"lg",clickable:"",onClick:i=>_.control_clickItem(t)},null,8,["title","note","thumb","onClick"])))),256))])),_:1}),m(C,{pageinfo:e.pageinfo},null,8,["pageinfo"])])),_:1})}]]);export{k as default};
